let body=document.body.offsetWidth;const dropMenuLink=document.querySelectorAll(".drop-menu__link"),subMenu=document.querySelectorAll(".sub-menu"),dropMenuHeight=document.querySelector(".drop-menu__item").offsetHeight,overlayHeight=document.querySelector(".overlay").offsetHeight;subMenu.forEach((e,t)=>{e.style.top=`${overlayHeight-dropMenuHeight+2}px`,subMenu.length>5&&t>4&&(e.style.top=`${1.9*dropMenuHeight}px`)}),dropMenuLink.forEach(e=>{e.addEventListener("click",function(){nextItem=e.nextElementSibling,1==nextItem.classList.contains("sub-menu_open")?(nextItem.classList.remove("sub-menu_open"),e.classList.remove("drop-menu__link_active")):(subMenu.forEach(e=>{e.classList.remove("sub-menu_open")}),dropMenuLink.forEach(e=>{e.classList.remove("drop-menu__link_active")}),nextItem.classList.add("sub-menu_open"),e.classList.add("drop-menu__link_active"))})});const searchBtnOpen=document.querySelector(".navigation__search-open");let searchClose=document.body,searchCloseBtn=document.querySelector(".search-form__close"),searchTl=gsap.timeline({});searchTl.to(".navigation__search-open",{x:0,zIndex:-1,opacity:0,ease:Power2.easeOut,duration:.4}).fromTo(".navigation__search-form",{display:"none",x:30,opacity:0,ease:Power2.easeOut,duration:.4},{display:"flex",x:0,opacity:1,ease:Power2.easeOut,duration:.4},"-=0.2").reversed(!0),searchBtnOpen.addEventListener("click",function(){searchTl.play()}),searchClose.addEventListener("click",function(e){e.target.closest(".search-sclose")||searchTl.reverse()}),searchCloseBtn.addEventListener("click",function(e){searchTl.reverse()}),body>1200&&searchTl.reverse();const burgerBtnOpen=document.querySelector(".navigation__burger-icon"),burgerBtnClose=document.querySelector(".burger__close"),burgerMenuItem=document.querySelectorAll(".menu__item_animation"),bodydocument=document.body,tlburger=gsap.timeline({});tlburger.fromTo(".burger",{display:"none",y:100,opacity:0,ease:Power2.easeOut,duration:.3},{display:"block",y:0,opacity:1,ease:Power2.easeOut,duration:.3}).fromTo(burgerBtnClose,{display:"none",y:-100,opacity:0,ease:Power2.easeOut,duration:.3},{display:"block",y:0,opacity:1,ease:Power2.easeOut,duration:.3},"-=0.1").fromTo(burgerMenuItem,{y:30,opacity:0,ease:Power2.easeOut,duration:.3},{y:0,opacity:1,ease:Power2.easeOut,duration:.3}).fromTo(".burger__login",{y:30,opacity:0,ease:Power2.easeOut,duration:.3},{y:0,opacity:1,ease:Power2.easeOut,duration:.3}),tlburger.reversed(!0),burgerBtnOpen.addEventListener("click",function(){tlburger.play(),bodydocument.classList.toggle("scroll-hidden")}),burgerBtnClose.addEventListener("click",function(){tlburger.reverse(),bodydocument.classList.toggle("scroll-hidden")}),burgerMenuItem.forEach(e=>{e.addEventListener("click",function(){tlburger.reverse(),bodydocument.classList.remove("scroll-hidden")})});const anchors=document.querySelectorAll(".smooth");for(let e of anchors)e.addEventListener("click",function(t){t.preventDefault();const o=e.getAttribute("href");document.querySelector(""+o).scrollIntoView({behavior:"smooth",block:"start"})});let heroTrack=document.querySelector(".hero__track"),heroTrackWidth=body,heroSlideLength=document.querySelectorAll(".hero__slide").length,heroAnimation=document.querySelector(".hero__slider");function nextSlide(e){heroTrack.style.transform=`translate3d(-${e*heroTrackWidth}px, 0px, 0px)`}heroIndex=0,heroTrack.style.transform="translate3d(0px, 0px, 0px)";let fps=.0625;function step(){setTimeout(function(){heroIndex<heroSlideLength-1?(heroIndex++,nextSlide(heroIndex)):(heroIndex=0,heroTrack.style.transform="translate3d(0px, 0px, 0px)"),requestAnimationFrame(step)},1e3/fps)}step();let gallerySlider=document.querySelector(".gallery__slider"),gallerySliderList=gallerySlider.querySelector(".gallery__list"),gallerySliderTrack=gallerySlider.querySelector(".gallery__track"),gallerySlides=gallerySlider.querySelectorAll(".gallery__slide"),galleryArrows=gallerySlider.querySelector(".gallery__arrows"),galleryCounterFirst=document.querySelector(".gallery__first");function galleryFocus(e,t){let o=e+1;o%t==0&&gallerySlides.length!==o&&(gallerySlideIndex++,galleryCounter++,galleryCounterFirst.innerHTML=galleryCounter,gallerySlide())}function focusDel(e){let t=event.target;if(13==e.keyCode){if(t.classList.contains("next")&&t.classList.contains("disabled"))return void e.preventDefault();if(t.classList.contains("prev")&&t.classList.contains("disabled"))return void e.preventDefault()}}galleryCounterLast=document.querySelector(".gallery__last"),galleryCounter=1,galleryPrev=galleryArrows.children[0],galleryNext=galleryArrows.children[1],gallerySlideWidth=document.querySelector(".gallery__slider").offsetWidth,gallerySlideIndex=0,galleryPosInit=0,galleryPosX1=0,galleryPosX2=0,galleryPosY1=0,galleryPosY2=0,galleryNum=0,galleryCount=0,galleryPosFinal=0,galleryIsSwipe=!1,galleryIsScroll=!1,galleryAllowSwipe=!0,galleryTransition=!0,galleryNextTrf=0,galleryPrevTrf=0,galleryLastTrf=--gallerySlides.length*gallerySlideWidth,galleryPosThreshold=.2*gallerySlides[0].offsetWidth,galleryTrfRegExp=/([-0-9.]+(?=px))/,galleryGetEvent=function(){return-1!==event.type.search("touch")?event.touches[0]:event},body>1700?(galleryCount=6,galleryNum=6):body>=768&&body<=1700?(galleryCount=4,galleryNum=4):body<=768&&(galleryCount=1,galleryNum=1),galleryPrev.classList.toggle("disabled",0===gallerySlideIndex),galleryCounterLast.innerHTML=Math.ceil(gallerySlides.length/galleryCount),gallerySlide=function(){galleryTransition&&(gallerySliderTrack.style.transition="transform .5s"),gallerySliderTrack.style.transform=`translate3d(-${gallerySlideIndex*gallerySlideWidth}px, 0px, 0px)`,galleryPrev.classList.toggle("disabled",0===gallerySlideIndex),galleryNext.classList.toggle("disabled",gallerySlideIndex===Math.floor(--gallerySlides.length/galleryNum))},gallerySwipeStart=function(){let e=galleryGetEvent();galleryAllowSwipe&&(galleryTransition=!0,galleryNextTrf=(gallerySlideIndex+1)*-gallerySlideWidth,galleryPrevTrf=(gallerySlideIndex-1)*-gallerySlideWidth,galleryPosInit=galleryPosX1=e.clientX,galleryPosY1=e.clientY,gallerySliderTrack.style.transition="",document.addEventListener("touchmove",gallerySwipeAction),document.addEventListener("mousemove",gallerySwipeAction),document.addEventListener("touchend",gallerySwipeEnd),document.addEventListener("mouseup",gallerySwipeEnd),gallerySliderList.classList.remove("grab"),gallerySliderList.classList.add("grabbing"))},gallerySwipeAction=function(){let e=galleryGetEvent(),t=+gallerySliderTrack.style.transform.match(galleryTrfRegExp)[0];if(galleryPosX2=galleryPosX1-e.clientX,galleryPosX1=e.clientX,galleryPosY2=galleryPosY1-e.clientY,galleryPosY1=e.clientY,!galleryIsSwipe&&!galleryIsScroll){let e=Math.abs(galleryPosY2);e>7||0===galleryPosX2?(galleryIsScroll=!0,galleryAllowSwipe=!1):e<7&&(galleryIsSwipe=!0)}if(galleryIsSwipe){if(0===gallerySlideIndex){if(galleryPosInit<galleryPosX1)return void gallerySetTransform(t,0);galleryAllowSwipe=!0}if(gallerySlideIndex===Math.floor(--gallerySlides.length/galleryNum)){if(galleryPosInit>galleryPosX1)return void gallerySetTransform(t,galleryLastTrf);galleryAllowSwipe=!0}if(galleryPosInit>galleryPosX1&&t<galleryNextTrf||galleryPosInit<galleryPosX1&&t>galleryPrevTrf)return void galleryReachEdge();gallerySliderTrack.style.transform=`translate3d(${t-galleryPosX2}px, 0px, 0px)`}},gallerySwipeEnd=function(){galleryPosFinal=galleryPosInit-galleryPosX1,galleryIsScroll=!1,galleryIsSwipe=!1,document.removeEventListener("touchmove",gallerySwipeAction),document.removeEventListener("mousemove",gallerySwipeAction),document.removeEventListener("touchend",gallerySwipeEnd),document.removeEventListener("mouseup",gallerySwipeEnd),gallerySliderList.classList.add("grab"),gallerySliderList.classList.remove("grabbing"),galleryAllowSwipe?(Math.abs(galleryPosFinal)>galleryPosThreshold&&(galleryPosInit<galleryPosX1?(gallerySlideIndex--,galleryCounter--,galleryCounterFirst.innerHTML=galleryCounter):galleryPosInit>galleryPosX1&&(gallerySlideIndex++,galleryCounter++,galleryCounterFirst.innerHTML=galleryCounter)),galleryPosInit!==galleryPosX1?(galleryAllowSwipe=!1,gallerySlide()):galleryAllowSwipe=!0):galleryAllowSwipe=!0},gallerySetTransform=function(e,t){e>=t&&e>t&&(gallerySliderTrack.style.transform=`translate3d(${t}px, 0px, 0px)`),galleryAllowSwipe=!1},galleryReachEdge=function(){galleryTransition=!1,gallerySwipeEnd(),galleryAllowSwipe=!0},gallerySliderTrack.style.transform="translate3d(0px, 0px, 0px)",gallerySliderList.classList.add("grab"),gallerySliderTrack.addEventListener("transitionend",()=>galleryAllowSwipe=!0),gallerySlider.addEventListener("touchstart",gallerySwipeStart),gallerySlider.addEventListener("mousedown",gallerySwipeStart),galleryArrows.addEventListener("click",function(){let e=event.target;if(e.classList.contains("gallery__next")){if(gallerySlideIndex===Math.floor(--gallerySlides.length/galleryNum))return;gallerySlideIndex++,galleryCounter++,galleryCounterFirst.innerHTML=galleryCounter}else{if(!e.classList.contains("gallery__prev"))return;if(0===gallerySlideIndex)return;gallerySlideIndex--,galleryCounter--,galleryCounterFirst.innerHTML=galleryCounter}gallerySlide()}),galleryArrows.addEventListener("keydown",function(e){focusDel(e)}),gallerySlides.forEach((e,t)=>{e.addEventListener("keyup",function(e){body>1700&&galleryFocus(t,6),body<=1700&&body>=768&&galleryFocus(t,4)})});const popupTriggers=document.querySelectorAll(".popup-trigger"),popup=document.querySelector(".popup"),popupContent=document.querySelector(".popup__content"),popupCloseIcon=document.querySelector(".popup__close");let posStartX=null,posStartY=null;function popupOpen(e){gsap.timeline({}).to(".popup",{opacity:1,ease:Power2.easeOut,duration:.6,display:"block"}).fromTo(".popup__content",{y:-100,ease:Power2.easeOut,opacity:0,duration:.6},{y:0,opacity:1},"-=-.6"),e.classList.add("popup_open"),e.addEventListener("click",function(e){e.target.closest(".popup__content")||popupClose(popup)})}function popupClose(e){gsap.timeline({}).to(".popup",{opacity:0,ease:Power2.easeOut,duration:.6,display:"none"}).fromTo(".popup__content",{y:0,opacity:1,duration:.6},{y:-100,ease:Power2.easeOut,opacity:0,duration:.6},"-=-.6"),popupContent.innerHTML=" ",popupContent.append(popupCloseIcon),e.classList.remove("popup_open")}popupTriggers.forEach(e=>{e.addEventListener("mousemove",function(e){e=e||window.event,posStartX=e.offsetX,posStartY=e.offsetY})}),popupTriggers.forEach(e=>{e.addEventListener("click",function(t){let o=t.offsetX,l=t.offsetY;if(o==posStartX&&l==posStartY){let o=e.innerHTML;popupContent.insertAdjacentHTML("beforeEnd",o),popupOpen(popup),t.preventDefault()}}),e.addEventListener("keydown",function(t){if(13==t.keyCode)if(popup.classList.contains("popup_open"))popupClose(popup);else{let o=e.innerHTML;popupContent.insertAdjacentHTML("beforeEnd",o),popupOpen(popup),t.preventDefault()}})}),popupCloseIcon.addEventListener("click",function(e){popupClose(popup),e.preventDefault()});let selectMenu=document.querySelectorAll(".select"),selectItem=document.querySelectorAll(".select__item"),selecteditem=document.querySelector(".select__current").textContent;function hideselected(){document.querySelector(".select__item_hidden").classList.remove("select__item_hidden"),this.classList.add("select__item_hidden")}function selectChoose(){let e=this.innerText,t=this.closest(".select"),o=t.querySelector(".select__body");currentText=t.querySelector(".select__current"),currentText.innerText=e,t.dataset.open="false",o.style.maxHeight="0"}selectMenu.forEach(e=>{let t=e.querySelector(".select__header"),o=e.querySelector(".select__body");t.addEventListener("click",function(t){"true"==e.dataset.open?(e.dataset.open="false",o.style.maxHeight="0"):(e.dataset.open="true",o.style.maxHeight=`${o.scrollHeight}px`)})}),selectItem.forEach(e=>{e.addEventListener("click",selectChoose),e.addEventListener("click",hideselected)});let triggerItalyLength=document.querySelectorAll(".trigger-italy").length;function accordionTabs(e,t,o){document.querySelectorAll(`.${e}`).forEach(e=>{e.addEventListener("click",function(l){l.preventDefault();const i=l.target.getAttribute("href").replace("#","");document.querySelectorAll(`.${t}`).forEach(e=>{e.classList.remove(`${o}`)}),gsap.timeline({}).fromTo(document.getElementById(i),{display:"none",x:-200,opacity:0,duration:.6},{display:"block",opacity:1,x:0,duration:.6}),document.getElementById(i).classList.add(`${o}`);const n=e.getAttribute("href");document.querySelector(""+n).scrollIntoView({behavior:"smooth",block:"start"})})})}function catalogTabs(e,t,o,l){document.querySelectorAll(`.${e}`).forEach(i=>{i.addEventListener("click",function(n){n.preventDefault();let s=n.target.getAttribute("href").replace("#","");document.querySelectorAll(`.${e}`).forEach(e=>{e.classList.remove(`${t}`)}),document.querySelectorAll(`.${o}`).forEach(e=>{gsap.timeline({}).to(e,{display:"none",opacity:0,duration:0,zIndex:-1}),e.classList.remove(`${l}`)}),i.classList.add(`${t}`),gsap.timeline({}).fromTo(document.getElementById(s),{display:"none",opacity:0,x:-100,duration:.3},{display:"block",zIndex:1,opacity:1,x:0,duration:.3}),document.getElementById(s).classList.add(`${l}`)})})}triggerItalyLength>27&&document.documentElement.style.setProperty("--grid-auto-flow","row"),accordionTabs("trigger-italy","tabs-italy","tabs-italy_active"),catalogTabs("сatalog__trigger","сatalog__trigger_active","сatalog__item","сatalog__item_active");const smoothHeight=(e,t,o)=>{const l=document.querySelectorAll(e);document.querySelectorAll(".accordion__link_focus"),document.querySelectorAll(".accrodion-gallery_focus");function i(e,t){e.forEach(e=>{e.setAttribute("tabindex",t)})}l.length&&l.forEach(e=>{const n=e.querySelector(t),s=e.querySelector(o),r=e.querySelectorAll(".accordion__link_focus"),d=e.querySelectorAll(".accrodion-gallery_focus");function a(){s.style.transition="max-height 0.6s"}i(r,-1),i(d,-1),"true"==e.dataset.open&&(e.dataset.open="true",s.style.maxHeight=`${s.scrollHeight}px`,s.style.transition="none",i(r,0),i(d,0)),n.addEventListener("click",()=>{"true"!==e.dataset.open?(l.forEach(t=>{let l=t.querySelector(o),n=t.querySelectorAll(".accordion__link_focus");const s=e.querySelectorAll(".accrodion-gallery_focus");"true"==t.dataset.open&&(i(s,-1),i(n,-1),l.style.transition="max-height 0.6s",t.dataset.open="false",l.style.maxHeight="")}),e.dataset.open="true",a(),s.style.maxHeight=`${s.scrollHeight}px`,i(r,0),i(d,0)):(a(),e.dataset.open="false",s.style.maxHeight="",i(r,-1),i(d,-1))});window.addEventListener("resize",()=>{"true"===e.dataset.open&&parseInt(s.style.maxHeight)!==s.scrollHeight&&(s.style.maxHeight=`${s.scrollHeight}px`)})})};smoothHeight(".accordion__item",".accordion__trigger",".accordion__content");let developmentsCardClose=!0;const developmentsCard=(e,t,o)=>{const l=document.querySelectorAll(e),i=document.querySelector(t);document.querySelector(".developments__grid");let n=700;function s(e){e.style.transitionProperty="min-height, max-height, opacity",e.style.transitionDuration="0.6s",e.style.maxHeight="auto",e.style.minHeight=`${n}px`,e.style.opacity="1"}function r(e){e.style.transition="none",e.style.maxHeight="0",e.style.minHeight="0",e.style.opacity="0",i.style.opacity="1"}body<1200&&(n=683),l.length&&l.forEach((e,t)=>{const l=e.querySelector(o);function d(){body<1024&&body>=768?t<=1?(e.dataset.open="true",s(l)):t>1&&developmentsCardClose?(e.dataset.open="false",r(l)):0==developmentsCardClose&&(e.dataset.open="true",s(l)):body>=1024?t<=2?(e.dataset.open="true",s(l)):t>2&&developmentsCardClose?(e.dataset.open="false",r(l)):0==developmentsCardClose&&(e.dataset.open="true",s(l)):body<768&&(e.dataset.open="true",s(l))}if(d(),"true"==e.dataset.open&&(e.dataset.open="true",l.style.transition="none",l.style.maxHeight="auto",l.style.minHeight=`${n}px`,l.style.opacity="1"),i.addEventListener("click",()=>{"true"!==e.dataset.open&&(e.dataset.open="true",s(l),i.style.opacity="0",developmentsCardClose=!1,i.setAttribute("tabindex",-1),document.querySelectorAll(".developments__link").forEach(e=>{e.setAttribute("tabindex",0)}))}),developmentsCardClose&&"false"==e.dataset.open){e.querySelector(".developments__link").setAttribute("tabindex",-1)}window.addEventListener("resize",()=>{"true"===e.dataset.open&&parseInt(l.style.maxHeight)!==l.scrollHeight&&s(l),d()})})};function animationRepeat(e){e.reversed(!e.reversed())}body>=768&&developmentsCard(".developments__item",".developments__button",".developments__body");let developmentsBtn=document.querySelector(".developments__btn"),developmentsItem=document.querySelectorAll(".developments__item"),developmentsPoint=document.querySelectorAll(".developments__point"),developmentsPoints=document.querySelector(".developments__points");if(developmentsItem.length!==developmentsPoint.length){let e=Math.abs(developmentsPoint.length-developmentsItem.length);for(let t=0;t<e;t++){let e=document.createElement("button");e.classList.add("developments__point"),e.innerHTML=developmentsPoint[1].innerHTML,developmentsPoints.append(e),developmentsPoint=document.querySelectorAll(".developments__point")}}let developmentsSlider=document.querySelector(".developments__slider"),developmentsSliderList=developmentsSlider.querySelector(".developments__list"),developmentsSliderTrack=developmentsSlider.querySelector(".developments__track"),developmentsSlides=developmentsSlider.querySelectorAll(".developments__slide"),developmentsSlideWidth=developmentsSlides[0].offsetWidth,developmentsIndex=0,developmentsPosInit=0,developmentsPosX1=0,developmentsCount=0,developmentsPosX2=0,developmentsPosY1=0,developmentsPosY2=0,developmentsPosFinal=0,developmentsIsSwipe=!1,developmentsIsScroll=!1,developmentsAllowSwipe=!0,developmentsTransition=!0,developmentsNextTrf=0,developmentsPrevTrf=0,developmentsLastTrf=--developmentsSlides.length*developmentsSlideWidth,developmentsPosThreshold=.1*developmentsSlides[0].offsetWidth,developmenTstrfRegExp=/([-0-9.]+(?=px))/,developmentsGetEvent=function(){return-1!==event.type.search("touch")?event.touches[0]:event};body>768?(developmentsAllowSwipe=!1,developmentsTransition=!1,developmentsIndex=0,developmentsCount=0,developmentsSliderTrack.style.transition="none",developmentsSlider.classList.remove("slider"),developmentsSliderList.classList.remove("slider__list"),developmentsSliderTrack.classList.remove("slider__track"),developmentsSlides.forEach(e=>e.classList.remove("slider__slide"))):body<768&&(developmentsSlider.classList.add("slider"),developmentsSliderList.classList.add("slider__list"),developmentsSliderTrack.classList.add("slider__track"),developmentsSlides.forEach(e=>e.classList.add("slider__slide")),developmentsAllowSwipe=!0,developmentsTransition=!0),developmentsPoint[developmentsCount].classList.add("developments__point_active"),developmentsSlide=function(){developmentsTransition&&(developmentsSliderTrack.style.transition="transform .5s"),developmentsSliderTrack.style.transform=`translate3d(-${developmentsIndex*developmentsSlideWidth}px, 0px, 0px)`},developmentsSwipeStart=function(){let e=developmentsGetEvent();developmentsAllowSwipe&&(developmentsTransition=!0,developmentsNextTrf=(developmentsIndex+1)*-developmentsSlideWidth,developmentsPrevTrf=(developmentsIndex-1)*-developmentsSlideWidth,developmentsPosInit=developmentsPosX1=e.clientX,developmentsPosY1=e.clientY,developmentsSliderTrack.style.transition="",document.addEventListener("touchmove",developmentsSwipeAction),document.addEventListener("mousemove",developmentsSwipeAction),document.addEventListener("touchend",developmentsSwipeEnd),document.addEventListener("mouseup",developmentsSwipeEnd),developmentsSliderList.classList.remove("grab"),developmentsSliderList.classList.add("grabbing"))},developmentsSwipeAction=function(){let e=developmentsGetEvent(),t=+developmentsSliderTrack.style.transform.match(developmenTstrfRegExp)[0];if(developmentsPosX2=developmentsPosX1-e.clientX,developmentsPosX1=e.clientX,developmentsPosY2=developmentsPosY1-e.clientY,developmentsPosY1=e.clientY,!developmentsIsSwipe&&!developmentsIsScroll){let e=Math.abs(developmentsPosY2);e>7||0===developmentsPosX2?(developmentsIsScroll=!0,developmentsAllowSwipe=!1):e<7&&(developmentsIsSwipe=!0)}if(developmentsIsSwipe){if(0===developmentsIndex){if(developmentsPosInit<developmentsPosX1)return void developmentsSetTransform(t,0);developmentsAllowSwipe=!0}if(developmentsIndex===--developmentsSlides.length){if(developmentsPosInit>developmentsPosX1)return void developmentsSetTransform(t,developmentsLastTrf);developmentsAllowSwipe=!0}if(developmentsPosInit>developmentsPosX1&&t<developmentsNextTrf||developmentsPosInit<developmentsPosX1&&t>developmentsPrevTrf)return void developmentsReachEdge();developmentsSliderTrack.style.transform=`translate3d(${t-developmentsPosX2}px, 0px, 0px)`}},developmentsSwipeEnd=function(){developmentsPosFinal=developmentsPosInit-developmentsPosX1,developmentsIsScroll=!1,developmentsIsSwipe=!1,document.removeEventListener("touchmove",developmentsSwipeAction),document.removeEventListener("mousemove",developmentsSwipeAction),document.removeEventListener("touchend",developmentsSwipeEnd),document.removeEventListener("mouseup",developmentsSwipeEnd),developmentsSliderList.classList.add("grab"),developmentsSliderList.classList.remove("grabbing"),developmentsAllowSwipe?(Math.abs(developmentsPosFinal)>developmentsPosThreshold&&(developmentsPosInit<developmentsPosX1?(developmentsIndex--,developmentsCount--):developmentsPosInit>developmentsPosX1&&(developmentsIndex++,developmentsCount++)),developmentsPosInit!==developmentsPosX1?(developmentsAllowSwipe=!1,developmentsSlide()):developmentsAllowSwipe=!0):developmentsAllowSwipe=!0,developmentsPoint.forEach((e,t)=>{t===developmentsCount&&(developmentsPoint.forEach(e=>{e.classList.remove("developments__point_active")}),e.classList.add("developments__point_active"))})},developmentsSetTransform=function(e,t){e>=t&&e>t&&(developmentsSliderTrack.style.transform=`translate3d(${t}px, 0px, 0px)`),developmentsAllowSwipe=!1},developmentsReachEdge=function(){developmentsTransition=!1,developmentsSwipeEnd(),developmentsAllowSwipe=!0},developmentsSliderTrack.style.transform="translate3d(0px, 0px, 0px)",developmentsSliderList.classList.add("grab"),developmentsSliderTrack.addEventListener("transitionend",()=>developmentsAllowSwipe=!0),developmentsSlider.addEventListener("touchstart",developmentsSwipeStart),developmentsSlider.addEventListener("mousedown",developmentsSwipeStart),developmentsPoint.forEach((e,t)=>{e.addEventListener("click",function(){developmentsPoint.forEach(e=>{e.classList.remove("developments__point_active")}),e.classList.add("developments__point_active");let o=developmentsSlides[t].offsetWidth*t;developmentsIndex=t,developmentsCount=t,developmentsSliderTrack.style.transition="transform .5s",developmentsSliderTrack.style.transform=`translate3d(${-o}px, 0px, 0px)`}),t===developmentsCount&&e.classList.add("developments__point_active")});let editionsSlider=document.querySelector(".editions__slider"),editionsSliderList=editionsSlider.querySelector(".editions__list"),editionsSliderTrack=editionsSlider.querySelector(".editions__track"),editionsArrows=editionsSlider.querySelector(".editions__arrows"),editionsCounterFirst=document.querySelector(".editions__first");editionsCounterLast=document.querySelector(".editions__last"),editionsSlides=editionsSlider.querySelectorAll(".editions__slide"),editionsCounter=1,editionsPrev=editionsArrows.children[0],editionsNext=editionsArrows.children[1],editionsSlideWidth=document.querySelector(".editions__slider").offsetWidth,editionsSlideIndex=0,editionsPosInit=0,editionsPosX1=0,editionsPosX2=0,editionsPosY1=0,editionsPosY2=0,editionsNum=0,editionsCount=0,editionsPosFinal=0,editionsIsSwipe=!1,editionsIsScroll=!1,editionsAllowSwipe=!0,editionsTransition=!0,editionsNextTrf=0,editionsPrevTrf=0,editionsLastTrf=--editionsSlides.length*editionsSlideWidth,editionsPosThreshold=.2*editionsSlides[0].offsetWidth,editionsTrfRegExp=/([-0-9.]+(?=px))/,editionsGetEvent=function(){return-1!==event.type.search("touch")?event.touches[0]:event},body>=1520?(editionsNum=3,editionsCount=3):body<=1520&&(editionsNum=2,editionsCount=2),body<768?(editionsAllowSwipe=!1,editionsTransition=!1):(editionsAllowSwipe=!0,editionsTransition=!0),editionsCounterLast.innerHTML=Math.ceil(editionsSlides.length/editionsCount),editionsSlide=function(){editionsTransition&&(editionsSliderTrack.style.transition="transform .5s"),editionsSliderTrack.style.transform=`translate3d(-${editionsSlideIndex*editionsSlideWidth}px, 0px, 0px)`,editionsPrev.classList.toggle("disabled",0===editionsSlideIndex),editionsNext.classList.toggle("disabled",editionsSlideIndex===Math.floor(--editionsSlides.length/editionsNum))},editionsSwipeStart=function(){let e=editionsGetEvent();editionsAllowSwipe&&(editionsTransition=!0,editionsNextTrf=(editionsSlideIndex+1)*-editionsSlideWidth,editionsPrevTrf=(editionsSlideIndex-1)*-editionsSlideWidth,editionsPosInit=editionsPosX1=e.clientX,editionsPosY1=e.clientY,editionsSliderTrack.style.transition="",document.addEventListener("touchmove",editionsSwipeAction),document.addEventListener("mousemove",editionsSwipeAction),document.addEventListener("touchend",editionsSwipeEnd),document.addEventListener("mouseup",editionsSwipeEnd),editionsSliderList.classList.remove("grab"),editionsSliderList.classList.add("grabbing"))},editionsSwipeAction=function(){let e=editionsGetEvent(),t=+editionsSliderTrack.style.transform.match(editionsTrfRegExp)[0];if(editionsPosX2=editionsPosX1-e.clientX,editionsPosX1=e.clientX,editionsPosY2=editionsPosY1-e.clientY,editionsPosY1=e.clientY,!editionsIsSwipe&&!editionsIsScroll){let e=Math.abs(editionsPosY2);e>7||0===editionsPosX2?(editionsIsScroll=!0,editionsAllowSwipe=!1):e<7&&(editionsIsSwipe=!0)}if(editionsIsSwipe){if(0===editionsSlideIndex){if(editionsPosInit<editionsPosX1)return void editionsSetTransform(t,0);editionsAllowSwipe=!0}if(editionsSlideIndex===Math.floor(--editionsSlides.length/editionsNum)){if(editionsPosInit>editionsPosX1)return void editionsSetTransform(t,editionsLastTrf);editionsAllowSwipe=!0}if(editionsPosInit>editionsPosX1&&t<editionsNextTrf||editionsPosInit<editionsPosX1&&t>editionsPrevTrf)return void editionsReachEdge();editionsSliderTrack.style.transform=`translate3d(${t-editionsPosX2}px, 0px, 0px)`}},editionsSwipeEnd=function(){editionsPosFinal=editionsPosInit-editionsPosX1,editionsIsScroll=!1,editionsIsSwipe=!1,document.removeEventListener("touchmove",editionsSwipeAction),document.removeEventListener("mousemove",editionsSwipeAction),document.removeEventListener("touchend",editionsSwipeEnd),document.removeEventListener("mouseup",editionsSwipeEnd),editionsSliderList.classList.add("grab"),editionsSliderList.classList.remove("grabbing"),editionsAllowSwipe?(Math.abs(editionsPosFinal)>editionsPosThreshold&&(editionsPosInit<editionsPosX1?(editionsSlideIndex--,editionsCounter--,editionsCounterFirst.innerHTML=editionsCounter):editionsPosInit>editionsPosX1&&(editionsSlideIndex++,editionsCounter++,editionsCounterFirst.innerHTML=editionsCounter)),editionsPosInit!==editionsPosX1?(editionsAllowSwipe=!1,editionsSlide()):editionsAllowSwipe=!0):editionsAllowSwipe=!0},editionsSetTransform=function(e,t){e>=t&&e>t&&(editionsSliderTrack.style.transform=`translate3d(${t}px, 0px, 0px)`),editionsAllowSwipe=!1},editionsReachEdge=function(){editionsTransition=!1,editionsSwipeEnd(),editionsAllowSwipe=!0},editionsSliderTrack.style.transform="translate3d(0px, 0px, 0px)",editionsSliderList.classList.add("grab"),editionsSliderTrack.addEventListener("transitionend",()=>editionsAllowSwipe=!0),editionsSlider.addEventListener("touchstart",editionsSwipeStart),editionsSlider.addEventListener("mousedown",editionsSwipeStart),editionsArrows.addEventListener("click",function(e){let t=event.target;if(t.classList.contains("editions__next")){if(editionsSlideIndex===Math.floor(--editionsSlides.length/editionsNum))return;editionsSlideIndex++,editionsCounter++,editionsCounterFirst.innerHTML=editionsCounter}else{if(!t.classList.contains("editions__prev"))return;if(0===editionsSlideIndex)return;editionsSlideIndex--,editionsCounter--,editionsCounterFirst.innerHTML=editionsCounter}editionsSlide()}),editionsArrows.addEventListener("keydown",function(e){focusDel(e)});let editionsBtn=document.querySelectorAll(".editions__button");function editionsFocus(e,t){let o=e+1;o%t==0&&gallerySlides.length!==o&&(editionsSlideIndex++,editionsCounter++,editionsCounterFirst.innerHTML=editionsCounter,editionsSlide())}editionsBtn.forEach((e,t)=>{e.addEventListener("keyup",function(e){body>1700&&editionsFocus(t,3),body<=1700&&body>=768&&editionsFocus(t,2)})});let editionsHeader=document.querySelector(".checkbox-menu__header"),editionsItem=document.querySelectorAll(".checkbox-menu__label"),editionsSelect=document.querySelector(".checkbox-menu"),editionsIcon=document.querySelector(".checkbox-menu__icon");function selectActive(){body>768?editionsItem.forEach(e=>{editionsSelected(e,0,0),e.style.maxHeight=`${e.scrollHeight}px`}):"false"==editionsSelect.dataset.open?editionsSelectOpen():editionsSelectClose()}function editionsSelected(e,t,o){e.style.transitionProperty="max-height, border-bottom, margin-top, padding-bottom",e.style.transitionDuration="0.4s;",e.style.marginTop=`${t}px`,e.style.paddingBottom=`${t}px`,e.style.borderBottom=`${o}px solid rgba(253, 253, 253, 0.5)`}function editionsSelectClose(){body>768?editionsItem.forEach(e=>{editionsSelected(e,0,0),e.style.maxHeight=`${e.scrollHeight}px`}):(editionsIcon.classList.toggle("active"),editionsSelect.dataset.open="false",editionsItem.forEach(e=>{e.classList.contains("selected")?(editionsSelected(e,4,1),e.style.maxHeight=`${e.scrollHeight}px`):(editionsSelected(e,0,0),e.style.maxHeight="0")}))}function editionsSelectOpen(){editionsIcon.classList.toggle("active"),editionsSelect.dataset.open="true",editionsItem.forEach(e=>{e.classList.contains("selected")?(e.style.maxHeight="0",editionsSelected(e,0,0)):(e.style.maxHeight=`${e.scrollHeight}px`,editionsSelected(e,4,1))})}body<768&&(editionsSelectClose(),editionsHeader.addEventListener("click",selectActive));const editionsInput=document.querySelectorAll(".checkbox-menu__input"),editionsLabel=document.querySelectorAll(".checkbox-menu__label");editionsInput.forEach(e=>{e.addEventListener("click",function(){let t=e.closest(".checkbox-menu__label");t.classList.toggle("checkbox-menu__label_active"),t.classList.toggle("selected")})}),editionsLabel.forEach(e=>{e.addEventListener("keydown",function(t){if(13==t.keyCode){e.querySelector(".checkbox-menu__input").toggleAttribute("checked");let t=e.closest(".checkbox-menu__label");t.classList.toggle("checkbox-menu__label_active"),t.classList.toggle("selected")}})}),editionsItem.forEach((e,t)=>{e.classList.add(`checkbox-menu__label_${t}`)});let phoneInputs=document.querySelectorAll('input[type="tel"]'),im=new Inputmask("+7 (999) 999-99-99");im.mask(phoneInputs),new JustValidate(".contacts__form",{rules:{name:{required:!0,minLength:2,maxLength:30,function:(e,t)=>{return new RegExp("^[абвгдеёжзийклмнопрстуфхцчшщъыьэюяАБВГДЕЁЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯA-Za-z]").test(t)}},tel:{required:!0,function:(e,t)=>{return new RegExp("[0-9]").test(t)}}},messages:{name:{required:"Это поле необходимо заполнить!",minLength:"Минимальное кол-во символов в этой форме - 2!",maxLength:"Минимальное кол-во символов в этой форме - 30!",function:"Недопустимый формат"},tel:{required:"Это поле необходимо заполнить!",function:"Недопустимый формат"}},submitHandler:function(e){let t=new FormData(e),o=new XMLHttpRequest;o.onreadystatechange=function(){4===o.readyState&&o.status},o.open("POST","mail.php",!0),o.send(t),e.reset()}});let projectSlider=document.querySelector(".project__slider"),projectSliderList=projectSlider.querySelector(".project__list"),projectSliderTrack=projectSlider.querySelector(".project__track"),projectSlides=projectSlider.querySelectorAll(".project__slide"),projectArrows=projectSlider.querySelector(".project__arrows"),projectPrev=projectArrows.children[0],projectNext=projectArrows.children[1],projecSlideWidth=document.querySelector(".project__track").offsetWidth,projecSlideIndexh=0,projecPosInit=0,projectNum=0,projecPosX1=0,projecPosX2=0,projecPosY1=0,projecPosY2=0,projectPosFinal=0,projectSwipe=!1,projectisScroll=!1,projectAllowSwipe=!0,projectTransition=!0,projectNextTrf=0,projectPrevTrf=0,projectlastTrf=--projectSlides.length*projecSlideWidth,projectPosThreshold=.35*projectSlides[0].offsetWidth,projectTrfRegExp=/([-0-9.]+(?=px))/,projectGetEvent=function(){return-1!==event.type.search("touch")?event.touches[0]:event};body>=1520?projectNum=3:body<1520&&body>=550?projectNum=2:body<=550&&(projectNum=1),projectPrev.classList.toggle("disabled",0===projecSlideIndexh),projectSlide=function(){projectTransition&&(projectSliderTrack.style.transition="transform .5s"),projectSliderTrack.style.transform=`translate3d(-${projecSlideIndexh*projecSlideWidth}px, 0px, 0px)`,projectPrev.classList.toggle("disabled",0===projecSlideIndexh),projectNext.classList.toggle("disabled",projecSlideIndexh===Math.floor(--projectSlides.length/projectNum))},projectSwipeStart=function(){let e=projectGetEvent();projectAllowSwipe&&(projectTransition=!0,projectNextTrf=(projecSlideIndexh+1)*-projecSlideWidth,projectPrevTrf=(projecSlideIndexh-1)*-projecSlideWidth,projecPosInit=projecPosX1=e.clientX,projecPosY1=e.clientY,projectSliderTrack.style.transition="",document.addEventListener("touchmove",projectSwipeAction),document.addEventListener("mousemove",projectSwipeAction),document.addEventListener("touchend",projectSwipeEnd),document.addEventListener("mouseup",projectSwipeEnd),projectSliderList.classList.remove("grab"),projectSliderList.classList.add("grabbing"))},projectSwipeAction=function(){let e=projectGetEvent(),t=+projectSliderTrack.style.transform.match(projectTrfRegExp)[0];if(projecPosX2=projecPosX1-e.clientX,projecPosX1=e.clientX,projecPosY2=projecPosY1-e.clientY,projecPosY1=e.clientY,!projectSwipe&&!projectisScroll){let e=Math.abs(projecPosY2);e>7||0===projecPosX2?(projectisScroll=!0,projectAllowSwipe=!1):e<7&&(projectSwipe=!0)}if(projectSwipe){if(0===projecSlideIndexh){if(projecPosInit<projecPosX1)return void projectSetTransform(t,0);projectAllowSwipe=!0}if(projecSlideIndexh===Math.floor(--projectSlides.length/projectNum)){if(projecPosInit>projecPosX1)return void projectSetTransform(t,projectlastTrf);projectAllowSwipe=!0}if(projecPosInit>projecPosX1&&t<projectNextTrf||projecPosInit<projecPosX1&&t>projectPrevTrf)return void projectReachEdge();projectSliderTrack.style.transform=`translate3d(${t-projecPosX2}px, 0px, 0px)`}},projectSwipeEnd=function(){projectPosFinal=projecPosInit-projecPosX1,projectisScroll=!1,projectSwipe=!1,document.removeEventListener("touchmove",projectSwipeAction),document.removeEventListener("mousemove",projectSwipeAction),document.removeEventListener("touchend",projectSwipeEnd),document.removeEventListener("mouseup",projectSwipeEnd),projectSliderList.classList.add("grab"),projectSliderList.classList.remove("grabbing"),projectAllowSwipe?(Math.abs(projectPosFinal)>projectPosThreshold&&(projecPosInit<projecPosX1?projecSlideIndexh--:projecPosInit>projecPosX1&&projecSlideIndexh++),projecPosInit!==projecPosX1?(projectAllowSwipe=!1,projectSlide()):projectAllowSwipe=!0):projectAllowSwipe=!0},projectSetTransform=function(e,t){e>=t&&e>t&&(projectSliderTrack.style.transform=`translate3d(${t}px, 0px, 0px)`),projectAllowSwipe=!1},projectReachEdge=function(){projectTransition=!1,projectSwipeEnd(),projectAllowSwipe=!0},projectSliderTrack.style.transform="translate3d(0px, 0px, 0px)",projectSliderList.classList.add("grab"),projectSliderTrack.addEventListener("transitionend",()=>projectAllowSwipe=!0),projectSlider.addEventListener("touchstart",projectSwipeStart),projectSlider.addEventListener("mousedown",projectSwipeStart),projectArrows.addEventListener("click",function(){let e=event.target;if(e.classList.contains("project__next")){if(projecSlideIndexh===Math.floor(--projectSlides.length/projectNum))return;projecSlideIndexh++}else{if(!e.classList.contains("project__prev"))return;if(0===projecSlideIndexh)return;projecSlideIndexh--}projectSlide()}),projectArrows.addEventListener("keydown",function(e){focusDel(e)}),projectSlides.forEach((e,t)=>{e.addEventListener("keyup",function(e){body>1700&&projectFocus(t,3),body<=1700&&body>=768&&projectFocus(t,2)})});let ProjectPosStartX=0,ProjectPosStartY=0;function projectFocus(e,t){let o=e+1;o%t==0&&projectSlides.length!==o&&(projecSlideIndexh++,projectSlide())}projectSlides.forEach(e=>{e.addEventListener("mousemove",function(e){e=e||window.event,ProjectPosStartX=e.offsetX,ProjectPosStartY=e.offsetY})}),projectSlides.forEach(e=>{e.addEventListener("click",function(e){let t=e.offsetX,o=e.offsetY;t==ProjectPosStartX&&o==ProjectPosStartY||e.preventDefault()})});let tooltipElem=null,tooltipClick=!1,tooltipCounter=0,tooltipTrigger=document.querySelectorAll(".tooltip__trigger"),tooltipOpen=function(e){if(null==tooltipElem){let t=e.target,o=this.dataset.tooltip;if(!o)return;(tooltipElem=document.createElement("div")).className="tooltip__content",tooltipElem.innerHTML=o,document.body.append(tooltipElem);let l=t.getBoundingClientRect(),i=l.top-tooltipElem.offsetHeight-5;i<0&&(i=l.top+t.offsetHeight+5);let n=l.left+(t.offsetWidth-tooltipElem.offsetWidth)/2;n<0&&(n=0,i=l.top+t.offsetHeight+5);let s=Math.abs(l.left-body+t.offsetWid)-tooltipElem.offsetWidth/2;s<0&&(s=0,i=l.top+t.offsetHeight+5),n>s?tooltipElem.style.right=s+"px":tooltipElem.style.left=n+"px",tooltipElem.style.top=i+"px"}},tooltipClickOpen=function(e){null!==tooltipElem&&(tooltipClick=!0),++tooltipCounter%2==0&&(tooltipElem.remove(),tooltipElem=null,tooltipClick=!1)},tooltipClose=function(e){tooltipClick||tooltipElem&&(tooltipElem.remove(),tooltipElem=null)};tooltipTrigger.forEach((e,t)=>{e.addEventListener("mouseover",tooltipOpen),e.addEventListener("mouseout",tooltipClose);let o=e.getAttribute("data-tooltip");document.querySelectorAll(".project__tooltip").forEach((e,l)=>{t==l&&e.setAttribute("aria-label",o)}),document.body.clientWidth>=1024&&(e.addEventListener("focus",tooltipOpen),e.addEventListener("blur",tooltipClose),e.addEventListener("click",tooltipClickOpen))}),window.addEventListener("scroll",function(){tooltipElem&&(tooltipElem.remove(),tooltipElem=null)}),window.addEventListener("resize",()=>{(body=document.body.offsetWidth)>768?selectActive():body<768&&(editionsSelectClose(),editionsHeader.addEventListener("click",selectActive)),projecSlideWidth=document.querySelector(".project__track").offsetWidth,gallerySlideWidth=document.querySelector(".gallery__slider").offsetWidth,heroIndex=0,heroTrackWidth=body,heroTrack.style.transform="translate3d(0px, 0px, 0px)",developmentsPoint.forEach(e=>{e.classList.remove("developments__point_active"),developmentsPoint[developmentsCount].classList.add("developments__point_active")}),developmentsSlideWidth=developmentsSlides[0].offsetWidth,editionsSlideWidth=document.querySelector(".editions__slider").offsetWidth,editionsCounterLast.innerHTML=Math.ceil(editionsSlides.length/editionsCount),body>768?(developmentsAllowSwipe=!1,developmentsTransition=!1,developmentsIndex=0,developmentsCount=0,developmentsSliderTrack.style.transition="none",developmentsSlider.classList.remove("slider"),developmentsSliderList.classList.remove("slider__list"),developmentsSliderTrack.classList.remove("slider__track"),developmentsSlides.forEach(e=>e.classList.remove("slider__slide"))):body<768&&(developmentsSlider.classList.add("slider"),developmentsSliderList.classList.add("slider__list"),developmentsSliderTrack.classList.add("slider__track"),developmentsSlides.forEach(e=>e.classList.add("slider__slide")),developmentsAllowSwipe=!0,developmentsTransition=!0),body>=768&&developmentsCard(".developments__item",".developments__button",".developments__body"),tooltipTrigger.forEach(e=>{e.addEventListener("mouseover",tooltipOpen),e.addEventListener("mouseout",tooltipClose),document.body.clientWidth>=1024&&(e.addEventListener("focus",tooltipOpen),e.addEventListener("blur",tooltipClose),e.addEventListener("click",tooltipClickOpen))}),body>1200&&searchTl.reverse(),body>1700?(galleryCount=6,galleryNum=6):body>=768&&body<=1700?(galleryCount=4,galleryNum=4):body<=768&&(galleryCount=1,galleryNum=1),galleryCounterLast.innerHTML=Math.ceil(gallerySlides.length/galleryCount),body<768?(editionsAllowSwipe=!1,editionsTransition=!1,editionsSlideIndex=0,editionsCounter=1,editionsCounterFirst.innerHTML=editionsCounter,editionsSliderTrack.style.transition="none"):(editionsAllowSwipe=!0,editionsTransition=!0),body>=1520?(editionsNum=3,editionsCount=3):body<=1520&&(editionsNum=2,editionsCount=2),body>=1520?projectNum=3:body<1520&&body>=768?projectNum=2:body<=767&&(projectNum=1),editionsSlideIndex=0,developmentsIndex=0,gallerySlideIndex=0,projecSlideIndexh=0,galleryCounter=1,editionsCounter=1,galleryCounterFirst.innerHTML=galleryCounter,editionsCounterFirst.innerHTML=editionsCounter,projectSliderTrack.style.transform=`translate3d(-${projecSlideIndexh*projecSlideWidth}px, 0px, 0px)`,editionsSliderTrack.style.transform=`translate3d(-${editionsSlideIndex*editionsSlideWidth}px, 0px, 0px)`,developmentsSliderTrack.style.transform=`translate3d(-${developmentsIndex*developmentsSlideWidth}px, 0px, 0px)`,gallerySliderTrack.style.transform=`translate3d(-${gallerySlideIndex*gallerySlideWidth}px, 0px, 0px)`,editionsPrev.classList.toggle("disabled",0===editionsSlideIndex),editionsNext.classList.toggle("disabled",editionsSlideIndex===Math.floor(--editionsSlides.length/editionsNum)),galleryPrev.classList.toggle("disabled",0===gallerySlideIndex),galleryNext.classList.toggle("disabled",gallerySlideIndex===Math.floor(--gallerySlides.length/galleryNum)),projectPrev.classList.toggle("disabled",0===projecSlideIndexh),projectNext.classList.toggle("disabled",projecSlideIndexh===Math.floor(--projectSlides.length/projectNum))});